(() => {
var exports = {};
exports.id = 81;
exports.ids = [81];
exports.modules = {

/***/ 8218:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Reactions_wrapper__DCybS",
	"likeBlock": "Reactions_likeBlock__t0MJm",
	"text": "Reactions_text__dHavI",
	"likeText": "Reactions_likeText__m0g3e",
	"dislikeText": "Reactions_dislikeText__Nf_zy",
	"iconSize": "Reactions_iconSize__0wWNF",
	"likeHover": "Reactions_likeHover__xsor0",
	"dislikeHover": "Reactions_dislikeHover__BHGLH"
};


/***/ }),

/***/ 5126:
/***/ ((module) => {

// Exports
module.exports = {
	"container": "Comment_container__EPpd2",
	"wrapper": "Comment_wrapper__Va9_x",
	"name": "Comment_name__GvnYB",
	"text": "Comment_text__C_E2R",
	"wrapperReactions": "Comment_wrapperReactions__eSSX4"
};


/***/ }),

/***/ 2627:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Footer_wrapper___nIXN",
	"button": "Footer_button__zHivF",
	"commentsIcon": "Footer_commentsIcon__MDi29"
};


/***/ }),

/***/ 9646:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Header_wrapper__ZnPmt"
};


/***/ }),

/***/ 9053:
/***/ ((module) => {

// Exports
module.exports = {
	"container": "Review_container__f_AAQ",
	"text": "Review_text__0861I"
};


/***/ }),

/***/ 4300:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "SortReviews_wrapper__xX2eg",
	"title": "SortReviews_title__ygweo",
	"button": "SortReviews_button__7SI8Z"
};


/***/ }),

/***/ 6129:
/***/ ((module) => {

// Exports
module.exports = {
	"container": "SettingsSearch_container__8u_55",
	"wrapper": "SettingsSearch_wrapper__eWPVh",
	"wrapperPageSizeSelect": "SettingsSearch_wrapperPageSizeSelect__ONd3e",
	"button": "SettingsSearch_button__4VlPt",
	"sendReview": "SettingsSearch_sendReview__9E0ja"
};


/***/ }),

/***/ 3383:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Content_wrapper__RuITx",
	"button": "Content_button__I7GjF"
};


/***/ }),

/***/ 4244:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "EmojiItem_wrapper__YnJo_",
	"image": "EmojiItem_image__86WRe",
	"count": "EmojiItem_count__44TjK"
};


/***/ }),

/***/ 2802:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "ReviewsByEmoji_wrapper__hCH_U"
};


/***/ }),

/***/ 1780:
/***/ ((module) => {

// Exports
module.exports = {
	"container": "Header_container__Ey5kG",
	"wrapper": "Header_wrapper__cjA4r",
	"title": "Header_title__wcb_3",
	"wrapperCustomRate": "Header_wrapperCustomRate__i0R9o",
	"countReviews": "Header_countReviews__mNIGm",
	"link": "Header_link__ZQdhL"
};


/***/ }),

/***/ 5133:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ reviews),
  "getServerSideProps": () => (/* binding */ getServerSideProps)
});

// EXTERNAL MODULE: external "react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(997);
// EXTERNAL MODULE: external "react"
var external_react_ = __webpack_require__(6689);
var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);
// EXTERNAL MODULE: ./src/layouts/Main/index.jsx + 8 modules
var Main = __webpack_require__(3812);
// EXTERNAL MODULE: ./src/propTypes/index.js + 10 modules
var propTypes = __webpack_require__(1793);
// EXTERNAL MODULE: ./src/hooks/useVisibleDrawer.js
var useVisibleDrawer = __webpack_require__(3379);
// EXTERNAL MODULE: ./src/controllers/getCategories.js
var getCategories = __webpack_require__(2322);
// EXTERNAL MODULE: external "prop-types"
var external_prop_types_ = __webpack_require__(580);
var external_prop_types_default = /*#__PURE__*/__webpack_require__.n(external_prop_types_);
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Header/index.module.scss
var index_module = __webpack_require__(1780);
var index_module_default = /*#__PURE__*/__webpack_require__.n(index_module);
// EXTERNAL MODULE: ./src/components/CustomRate/index.jsx
var CustomRate = __webpack_require__(2161);
// EXTERNAL MODULE: ./src/helpers/declOfNumInstances.js
var declOfNumInstances = __webpack_require__(9272);
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Header/ReviewsByEmoji/index.module.scss
var ReviewsByEmoji_index_module = __webpack_require__(2802);
var ReviewsByEmoji_index_module_default = /*#__PURE__*/__webpack_require__.n(ReviewsByEmoji_index_module);
;// CONCATENATED MODULE: ./src/assets/images/neg.png
/* harmony default export */ const neg = ({"src":"/_next/static/media/neg.0f95875a.png","height":110,"width":110,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA5UlEQVR42mMAgStxwYrXQj1irgQ7el2L9A24Fe6ZeMXXRoYBBG7EhyhejfGLZkADN8K9Iq+GussxXI/zT75blMX5ICVK45KzGuv94jyO+wmhqldzkjivh3nGMdyJ9g0E6XgY6NR4k4GB7V5ZkcAjP8dakNi9pIhAhttxAcEMOMCd1KgAhuuxPkm3uptYL2cmat0PdEh/4G2Tds7PWflWSw377TDPcIZbwS5yNzNiky9VFGiAdH2pyWO+XJajfjMuLPSGk6kkAwhcjw9SuJMcGnO7PMP/VnGq74Ok8NAbvg7iDAwMDAAbD1LsfGWMhwAAAABJRU5ErkJggg=="});
;// CONCATENATED MODULE: ./src/assets/images/pos.png
/* harmony default export */ const pos = ({"src":"/_next/static/media/pos.8388b11b.png","height":110,"width":110,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA6ElEQVR42mMAAb/V4QqOK73i7ZZ7+rivDAxwXeOfYrzYVo4BBALXRsu7rw6IZ0ADgeuj4lxX+ioyeKz2S4heH8vlvj5YxXGFP1vatjx2i9UuKuUHa7m8VgcmMTiv9gpgAAKzNQ71DPMZOPN3VfIYr7avBYlFbIoLYHBZ5RPAwIAdRG9N9WVwX+eXULqlnj9tTb6py0Y/Eb/N0cJRa5I1O/ZP4QtcHxfPELopTilgfXR86Lo4c5u1bslma5wT/NdFGQDFg0yX2kozgEDIhmgln3VhMTGbUn1D1ka5e6wNCjRZ6STFwMDAAAAiRkn7X1+e2wAAAABJRU5ErkJggg=="});
;// CONCATENATED MODULE: ./src/assets/images/neu.png
/* harmony default export */ const neu = ({"src":"/_next/static/media/neu.9bd926c8.png","height":110,"width":110,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA7klEQVR42mMAgRdTEhUfTwyJfdwb6PlkUpT/44kRiY+6fWQZQODxjBiFJ1Oj4xjQwKMp0REP+vxkGZ5Mi055trSY+8WcbJWHk1JYXy4p5ng1LUHt6ZIKzkeTgRofT4sJBul4OTGw+EUoA8vzleV8r/t9K0FiT+dkhjE8nRITAjP24YubTC///2eE8Z/MywpleDw1JuXOxj6Ou9OSdF9MDMx6OSEo68H0TMP7B+ZwPZ0eH8Nwb1KY7NM5aclvtk3mhul8uqGD4/G02JC7fX5SEKMnRsg+npGa9HxRfsjzOWn+T6bGRj3p9pZkYGBgAAAQ42W20mH7HgAAAABJRU5ErkJggg=="});
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Header/ReviewsByEmoji/EmojiItem/index.module.scss
var EmojiItem_index_module = __webpack_require__(4244);
var EmojiItem_index_module_default = /*#__PURE__*/__webpack_require__.n(EmojiItem_index_module);
;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Header/ReviewsByEmoji/EmojiItem/index.jsx




function EmojiItem({ src , type , count  }) {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (EmojiItem_index_module_default()).wrapper,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("img", {
                className: (EmojiItem_index_module_default()).image,
                alt: type,
                src: src
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (EmojiItem_index_module_default()).count,
                children: count
            })
        ]
    }));
}
EmojiItem.propTypes = {
    src: (external_prop_types_default()).string.isRequired,
    type: (external_prop_types_default()).string.isRequired,
    count: (external_prop_types_default()).number.isRequired
};
EmojiItem.defaultProps = {};
/* harmony default export */ const ReviewsByEmoji_EmojiItem = (/*#__PURE__*/external_react_default().memo(EmojiItem));

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Header/ReviewsByEmoji/index.jsx








const data = [
    {
        src: pos.src,
        type: 'pos',
        count: 14
    },
    {
        src: neu.src,
        type: 'neu',
        count: 58
    },
    {
        src: neg.src,
        type: 'neg',
        count: 14
    }, 
];
function ReviewsByEmoji() {
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: (ReviewsByEmoji_index_module_default()).wrapper,
        children: data.map((elem)=>/*#__PURE__*/ jsx_runtime_.jsx(ReviewsByEmoji_EmojiItem, {
                src: elem.src,
                type: elem.type,
                count: elem.count
            }, elem.type)
        )
    }));
}
ReviewsByEmoji.propTypes = {};
ReviewsByEmoji.defaultProps = {};
/* harmony default export */ const Header_ReviewsByEmoji = (/*#__PURE__*/external_react_default().memo(ReviewsByEmoji));

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Header/index.jsx







function Header() {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("section", {
        className: (index_module_default()).container,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                className: (index_module_default()).title,
                children: "Skyeng"
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (index_module_default()).wrapper,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(CustomRate/* default */.Z, {
                        rating: 3.5,
                        wrapperStyle: (index_module_default()).wrapperCustomRate
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("span", {
                        className: (index_module_default()).countReviews,
                        children: (0,declOfNumInstances/* declOfNumReviews */.p)(3, true)
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(Header_ReviewsByEmoji, {}),
                    /*#__PURE__*/ jsx_runtime_.jsx("a", {
                        className: (index_module_default()).link,
                        target: "_blank",
                        rel: "noopener noreferrer",
                        href: "https://skyeng.ru",
                        children: "skyeng.ru"
                    })
                ]
            })
        ]
    }));
}
Header.propTypes = {};
Header.defaultProps = {};
/* harmony default export */ const SchoolReviews_Header = (/*#__PURE__*/external_react_default().memo(Header));

// EXTERNAL MODULE: external "antd"
var external_antd_ = __webpack_require__(5725);
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/index.module.scss
var Content_index_module = __webpack_require__(3383);
var Content_index_module_default = /*#__PURE__*/__webpack_require__.n(Content_index_module);
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/Review/index.module.scss
var Review_index_module = __webpack_require__(9053);
var Review_index_module_default = /*#__PURE__*/__webpack_require__.n(Review_index_module);
// EXTERNAL MODULE: external "classnames"
var external_classnames_ = __webpack_require__(9003);
var external_classnames_default = /*#__PURE__*/__webpack_require__.n(external_classnames_);
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/Review/Footer/index.module.scss
var Footer_index_module = __webpack_require__(2627);
var Footer_index_module_default = /*#__PURE__*/__webpack_require__.n(Footer_index_module);
;// CONCATENATED MODULE: ./src/assets/images/nex.png
/* harmony default export */ const nex = ({"src":"/_next/static/media/nex.fcfe561e.png","height":10,"width":13,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAQAAABUDBdwAAAAW0lEQVR42i3LsQmDUBRA0RuDKVOmTTYITuASdiIILmHjv08EOztdwi3cTARPf1Awh/QASBluAL7A7/AGbJzhkn5p6HPA2sU2uqhcPYgM/FhGGYWTO+DzLn9HOAFchRepnF1kgAAAAABJRU5ErkJggg=="});
// EXTERNAL MODULE: external "@ant-design/icons"
var icons_ = __webpack_require__(7066);
// EXTERNAL MODULE: ./src/components/Reactions/index.module.scss
var Reactions_index_module = __webpack_require__(8218);
var Reactions_index_module_default = /*#__PURE__*/__webpack_require__.n(Reactions_index_module);
// EXTERNAL MODULE: ./src/propTypes/ICommon.js
var ICommon = __webpack_require__(8951);
;// CONCATENATED MODULE: ./src/components/Reactions/index.jsx







function Reactions({ wrapperStyle , likes , dislikes  }) {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()((Reactions_index_module_default()).wrapper, wrapperStyle),
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Reactions_index_module_default()).likeBlock,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("span", {
                        className: external_classnames_default()((Reactions_index_module_default()).text, (Reactions_index_module_default()).likeText),
                        children: likes
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(icons_.LikeOutlined, {
                        className: external_classnames_default()((Reactions_index_module_default()).iconSize, (Reactions_index_module_default()).likeHover)
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("span", {
                        className: external_classnames_default()((Reactions_index_module_default()).text, (Reactions_index_module_default()).dislikeText),
                        children: dislikes
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(icons_.DislikeOutlined, {
                        className: external_classnames_default()((Reactions_index_module_default()).iconSize, (Reactions_index_module_default()).dislikeHover)
                    })
                ]
            })
        ]
    }));
}
Reactions.propTypes = {
    wrapperStyle: (external_prop_types_default()).string,
    ...ICommon/* IBriefReaction */.k
};
Reactions.defaultProps = {
    wrapperStyle: ''
};
/* harmony default export */ const components_Reactions = (/*#__PURE__*/external_react_default().memo(Reactions));

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/Review/Footer/index.jsx









function Footer({ likes , dislikes , commentCount , isOpenComments , setIsOpenComments ,  }) {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (Footer_index_module_default()).wrapper,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("button", {
                        className: (Footer_index_module_default()).button,
                        type: "button",
                        children: "Прокомментировать"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("button", {
                        className: external_classnames_default()((Footer_index_module_default()).button, (Footer_index_module_default()).comments),
                        type: "button",
                        onClick: ()=>setIsOpenComments(!isOpenComments)
                        ,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("img", {
                                src: nex.src,
                                alt: "replies",
                                className: (Footer_index_module_default()).commentsIcon
                            }),
                            (0,declOfNumInstances/* declOfNumComments */.B)(commentCount, true)
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(components_Reactions, {
                likes: likes,
                dislikes: dislikes
            })
        ]
    }));
}
Footer.propTypes = {
    ...ICommon/* IBriefReaction */.k,
    commentCount: (external_prop_types_default()).number.isRequired
};
Footer.defaultProps = {};
/* harmony default export */ const Review_Footer = (/*#__PURE__*/external_react_default().memo(Footer));

;// CONCATENATED MODULE: external "react-collapse"
const external_react_collapse_namespaceObject = require("react-collapse");
// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/Review/Comment/index.module.scss
var Comment_index_module = __webpack_require__(5126);
var Comment_index_module_default = /*#__PURE__*/__webpack_require__.n(Comment_index_module);
;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/Review/Comment/index.jsx







function Comment({ isOpened , text , date , likes , dislikes , reviewer  }) {
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: (Comment_index_module_default()).container,
        children: /*#__PURE__*/ jsx_runtime_.jsx(external_react_collapse_namespaceObject.Collapse, {
            isOpened: isOpened,
            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Comment_index_module_default()).wrapper,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        children: date
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("h3", {
                        className: (Comment_index_module_default()).name,
                        children: reviewer.data.attributes.name
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("p", {
                        className: (Comment_index_module_default()).text,
                        children: text
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(components_Reactions, {
                        wrapperStyle: (Comment_index_module_default()).wrapperReactions,
                        likes: likes,
                        dislikes: dislikes
                    })
                ]
            })
        })
    }));
}
Comment.propTypes = {
    ...propTypes/* IReviewCommentAttributes */.zq,
    isOpened: (external_prop_types_default()).bool
};
Comment.defaultProps = {
    text: 'Текст отсутствует...',
    isOpened: false,
    date: ''
};
/* harmony default export */ const Review_Comment = (/*#__PURE__*/external_react_default().memo(Comment));

// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/Review/Header/index.module.scss
var Header_index_module = __webpack_require__(9646);
var Header_index_module_default = /*#__PURE__*/__webpack_require__.n(Header_index_module);
;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/Review/Header/index.jsx






function Header_Header({ date , name , grade  }) {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (Header_index_module_default()).wrapper,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(CustomRate/* default */.Z, {
                rating: grade
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(icons_.ClockCircleOutlined, {}),
                    date,
                    " ",
                    name
                ]
            })
        ]
    }));
}
Header_Header.propTypes = {
    date: (external_prop_types_default()).string.isRequired,
    name: (external_prop_types_default()).string.isRequired,
    grade: (external_prop_types_default()).number.isRequired
};
Header_Header.defaultProps = {};
/* harmony default export */ const Review_Header = (/*#__PURE__*/external_react_default().memo(Header_Header));

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/Review/index.jsx








function Review({ text , date , grade , likes , title , comments , dislikes , reviewer ,  }) {
    // const [likes, setLikes] = useState(0);
    // const [dislikes, setDislikes] = useState(0);
    const { 0: action , 1: setAction  } = (0,external_react_.useState)(null);
    const like = ()=>{
        // setLikes(1);
        // setDislikes(0);
        setAction('liked');
    };
    const dislike = ()=>{
        // setLikes(0);
        // setDislikes(1);
        setAction('disliked');
    };
    const { 0: isOpenComments , 1: setIsOpenComments  } = (0,external_react_.useState)(false);
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (Review_index_module_default()).container,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(Review_Header, {
                date: date,
                name: reviewer.data.attributes.name,
                grade: grade
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("hr", {}),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                        children: title
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("p", {
                        className: (Review_index_module_default()).text,
                        children: text
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(Review_Footer, {
                likes: likes,
                dislikes: dislikes,
                isOpenComments: isOpenComments,
                commentCount: comments.data.length,
                setIsOpenComments: setIsOpenComments
            }),
            comments.data.map((comment)=>/*#__PURE__*/ jsx_runtime_.jsx(Review_Comment, {
                    isOpened: isOpenComments,
                    ...comment.attributes
                })
            )
        ]
    }));
}
Review.propTypes = {
    ...propTypes/* ISchoolReviewAttributes */.U0
};
Review.defaultProps = {};
/* harmony default export */ const Content_Review = (/*#__PURE__*/external_react_default().memo(Review));

// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/SettingsSearch/index.module.scss
var SettingsSearch_index_module = __webpack_require__(6129);
var SettingsSearch_index_module_default = /*#__PURE__*/__webpack_require__.n(SettingsSearch_index_module);
;// CONCATENATED MODULE: ./src/library/constants.js
const COUNT_DEFAULT_SIZE_PAGE = 10;
const OPTIONS_SIZE_PAGE = [
    10,
    25,
    50,
    100
];

;// CONCATENATED MODULE: ./src/components/PageSizeSelect/index.jsx





function PageSizeSelect({ setPageSize , wrapperStyle  }) {
    return(/*#__PURE__*/ jsx_runtime_.jsx(external_antd_.Select, {
        className: wrapperStyle,
        defaultValue: COUNT_DEFAULT_SIZE_PAGE,
        style: {
            width: 120
        },
        onChange: setPageSize,
        children: OPTIONS_SIZE_PAGE.map((elem)=>/*#__PURE__*/ jsx_runtime_.jsx(external_antd_.Select.Option, {
                value: elem,
                children: elem
            })
        )
    }));
}
PageSizeSelect.propTypes = {
    setPageSize: (external_prop_types_default()).func,
    wrapperStyle: (external_prop_types_default()).string
};
PageSizeSelect.defaultProps = {
    wrapperStyle: '',
    setPageSize: ()=>{
        console.log('Не передана функция setPageSize');
    }
};
/* harmony default export */ const components_PageSizeSelect = (/*#__PURE__*/external_react_default().memo(PageSizeSelect));

// EXTERNAL MODULE: ./src/containers/SchoolReviews/Content/SettingsSearch/SortReviews/index.module.scss
var SortReviews_index_module = __webpack_require__(4300);
var SortReviews_index_module_default = /*#__PURE__*/__webpack_require__.n(SortReviews_index_module);
;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/SettingsSearch/SortReviews/index.jsx





const buttons = [
    // TODO написать маршрут для получение популярных отзывов о школе
    {
        caption: 'По популярности',
        type: 'populate'
    },
    {
        caption: 'Сначала новые',
        type: 'new',
        sort: 'date:desc'
    },
    {
        caption: 'Сначала старые',
        type: 'old',
        sort: 'date:asc'
    },
    {
        caption: 'Сначала отрицательные',
        type: 'negative',
        sort: 'grade:asc'
    },
    {
        caption: 'Сначала позитивные',
        type: 'positive',
        sort: 'grade:desc'
    }, 
];
function SortReviews({ setSort  }) {
    const { 0: activeSort , 1: setActiveSort  } = (0,external_react_.useState)(0);
    const { 0: openPopover , 1: setOpenPopover  } = (0,external_react_.useState)(false);
    const changeSort = (0,external_react_.useCallback)((index)=>{
        setSort(buttons[index]);
        setOpenPopover(false);
        setActiveSort(index);
    }, [
        setSort
    ]);
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (SortReviews_index_module_default()).wrapper,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                className: (SortReviews_index_module_default()).title,
                children: "Сортировка: "
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(external_antd_.Popover, {
                visible: openPopover,
                placement: "bottomLeft",
                content: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    children: buttons.map(({ caption  }, index)=>/*#__PURE__*/ jsx_runtime_.jsx("button", {
                            className: (SortReviews_index_module_default()).button,
                            type: "button",
                            onClick: ()=>changeSort(index)
                            ,
                            children: caption
                        }, caption)
                    )
                }),
                trigger: "hover",
                onVisibleChange: ()=>{},
                children: /*#__PURE__*/ jsx_runtime_.jsx("button", {
                    className: (SortReviews_index_module_default()).button,
                    onClick: ()=>setOpenPopover(!openPopover)
                    ,
                    children: buttons[activeSort].caption
                })
            })
        ]
    }));
}
SortReviews.propTypes = {
    setSort: (external_prop_types_default()).func.isRequired
};
SortReviews.defaultProps = {};
/* harmony default export */ const SettingsSearch_SortReviews = (/*#__PURE__*/external_react_default().memo(SortReviews));

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/SettingsSearch/index.jsx







function SettingsSearch({ setSort , setPageSize  }) {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: (SettingsSearch_index_module_default()).container,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (SettingsSearch_index_module_default()).wrapper,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(SettingsSearch_SortReviews, {
                        setSort: setSort
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(components_PageSizeSelect, {
                        setPageSize: setPageSize,
                        wrapperStyle: (SettingsSearch_index_module_default()).wrapperPageSizeSelect
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("button", {
                className: external_classnames_default()((SettingsSearch_index_module_default()).button, (SettingsSearch_index_module_default()).sendReview),
                children: "Оставить отзыв"
            })
        ]
    }));
}
SettingsSearch.propTypes = {
    setSort: (external_prop_types_default()).func,
    setPageSize: (external_prop_types_default()).func
};
SettingsSearch.defaultProps = {
    setSort: ()=>{
        console.log('Не передана функция setSort');
    },
    setPageSize: ()=>{
        console.log('Не передана функция setSort');
    }
};
/* harmony default export */ const Content_SettingsSearch = (/*#__PURE__*/external_react_default().memo(SettingsSearch));

// EXTERNAL MODULE: external "qs"
var external_qs_ = __webpack_require__(7104);
var external_qs_default = /*#__PURE__*/__webpack_require__.n(external_qs_);
// EXTERNAL MODULE: ./src/utils/axiosInstances.js
var axiosInstances = __webpack_require__(7743);
;// CONCATENATED MODULE: ./src/controllers/getSchoolReviews.js



async function getSchoolReviews({ code , sort ='date:desc' , pagination ={
    pageSize: COUNT_DEFAULT_SIZE_PAGE
} ,  }) {
    const query = external_qs_default().stringify({
        sort,
        populate: [
            'school',
            'reviewer',
            'comments',
            'reactions',
            'comments.reviewer',
            'comments.reactions', 
        ],
        filters: {
            school: {
                code
            }
        },
        pagination
    }, {
        encodeValuesOnly: true
    });
    const { data  } = await axiosInstances/* cmsApi.get */.J.get(`/reviews?${query}`);
    return data;
};

;// CONCATENATED MODULE: ./src/helpers/preparersData/prepareSchoolReviews.js
function countReactions(reactions = []) {
    const likes = reactions.filter((reaction)=>reaction.attributes.indicator
    );
    const dislikes = reactions.filter((reaction)=>!reaction.attributes.indicator
    );
    return {
        likes: likes.length,
        dislikes: dislikes.length
    };
}
function prepareSchoolReviews(reviews) {
    return reviews.map((review)=>{
        const countReactionReview = countReactions(review.attributes.reactions.data);
        review.attributes.likes = countReactionReview.likes;
        review.attributes.dislikes = countReactionReview.dislikes;
        review.attributes.comments.data = review.attributes.comments.data.map((comment)=>{
            const countReactionComment = countReactions(comment.attributes.reactions.data);
            comment.attributes.likes = countReactionComment.likes;
            comment.attributes.dislikes = countReactionComment.dislikes;
            delete comment.attributes.reactions;
            return comment;
        });
        delete review.attributes.reactions;
        return review;
    });
}
/* harmony default export */ const preparersData_prepareSchoolReviews = (prepareSchoolReviews);

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/useLoadReviews.js



function useLoadReviews({ initReviews  }) {
    const { 0: reviews , 1: setReviews  } = (0,external_react_.useState)(initReviews.data);
    const { 0: sortType , 1: setSortType  } = (0,external_react_.useState)({});
    const { 0: pageSize , 1: setPageSize  } = (0,external_react_.useState)(null);
    const { 0: page , 1: setPage  } = (0,external_react_.useState)(1);
    const customGetSchoolReviews = (0,external_react_.useCallback)(async (actualPage)=>getSchoolReviews({
            code: 'skillfactory',
            sort: sortType.sort,
            pagination: {
                page: actualPage,
                pageSize
            }
        })
    , [
        pageSize,
        sortType.sort
    ]);
    (0,external_react_.useEffect)(()=>{
        if (sortType.sort || pageSize) {
            (async function loadReviews() {
                const data = await customGetSchoolReviews(1);
                setPage(1);
                setReviews(preparersData_prepareSchoolReviews(data.data));
            })();
        }
    }, [
        customGetSchoolReviews,
        sortType,
        pageSize
    ]);
    (0,external_react_.useEffect)(()=>{
        if (page !== 1) {
            (async function loadReviews() {
                const data = await customGetSchoolReviews(page);
                setReviews([
                    ...reviews,
                    ...preparersData_prepareSchoolReviews(data.data)
                ]);
            })();
        }
    // eslint-disable-next-line
    }, [
        customGetSchoolReviews,
        page
    ]);
    return {
        page,
        setPage,
        reviews,
        pageSize,
        setPageSize,
        setSortType
    };
}
/* harmony default export */ const Content_useLoadReviews = (useLoadReviews);

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/Content/index.jsx








function Content({ reviews  }) {
    const { 0: top , 1: setTop  } = (0,external_react_.useState)(10);
    const { reviews: arrayReviews , setPageSize , setSortType , setPage , page ,  } = Content_useLoadReviews({
        initReviews: reviews
    });
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("section", {
        className: (Content_index_module_default()).wrapper,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(external_antd_.Affix, {
                className: (Content_index_module_default()).affixBlock,
                offsetTop: top,
                children: /*#__PURE__*/ jsx_runtime_.jsx(external_antd_.Button, {
                    type: "primary",
                    onClick: ()=>setTop(top + 10)
                    ,
                    children: "Affix top"
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(Content_SettingsSearch, {
                        setSort: setSortType,
                        setPageSize: setPageSize
                    }),
                    arrayReviews.map((elem)=>/*#__PURE__*/ jsx_runtime_.jsx(Content_Review, {
                            ...elem.attributes
                        }, elem.id)
                    ),
                    /*#__PURE__*/ jsx_runtime_.jsx(external_antd_.Button, {
                        onClick: ()=>setPage(page + 1)
                        ,
                        type: "primary",
                        size: "large",
                        className: (Content_index_module_default()).button,
                        children: "Еще отзывы"
                    })
                ]
            })
        ]
    }));
}
Content.propTypes = {
    reviews: propTypes/* ISchoolReviews */.Sp
};
Content.defaultProps = {
    reviews: {
        data: [],
        meta: {}
    }
};
/* harmony default export */ const SchoolReviews_Content = (/*#__PURE__*/external_react_default().memo(Content));

;// CONCATENATED MODULE: ./src/containers/SchoolReviews/index.jsx






function SchoolReviews({ reviews  }) {
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("main", {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(SchoolReviews_Header, {}),
            /*#__PURE__*/ jsx_runtime_.jsx(SchoolReviews_Content, {
                reviews: reviews
            })
        ]
    }));
}
SchoolReviews.propTypes = {
    reviews: propTypes/* ISchoolReviews */.Sp
};
SchoolReviews.defaultProps = {
    reviews: {
        data: [],
        meta: {}
    }
};
/* harmony default export */ const containers_SchoolReviews = (/*#__PURE__*/external_react_default().memo(SchoolReviews));

;// CONCATENATED MODULE: ./src/pages/schools/[code]/reviews/index.jsx









function SchoolReviewsPage({ categories , reviews  }) {
    const { visibleDrawer , setVisibleDrawer  } = (0,useVisibleDrawer/* default */.Z)();
    return(/*#__PURE__*/ jsx_runtime_.jsx(Main/* default */.Z, {
        visibleDrawer: visibleDrawer,
        setVisibleDrawer: setVisibleDrawer,
        categories: categories.data,
        children: /*#__PURE__*/ jsx_runtime_.jsx(containers_SchoolReviews, {
            reviews: reviews
        })
    }));
}
SchoolReviewsPage.propTypes = {
    categories: propTypes/* ICourseCategories */.ll,
    reviews: propTypes/* ISchoolReviews */.Sp
};
SchoolReviewsPage.defaultProps = {
    categories: {
        data: []
    },
    reviews: {
        data: [],
        meta: {}
    }
};
async function getServerSideProps(context) {
    const schoolCode = context.params.code;
    const schoolReviews = await getSchoolReviews({
        code: schoolCode
    });
    schoolReviews.data = preparersData_prepareSchoolReviews(schoolReviews.data);
    const categories = await (0,getCategories/* default */.Z)();
    return {
        props: {
            categories,
            reviews: schoolReviews
        }
    };
}
/* harmony default export */ const reviews = (/*#__PURE__*/external_react_default().memo(SchoolReviewsPage));


/***/ }),

/***/ 7066:
/***/ ((module) => {

"use strict";
module.exports = require("@ant-design/icons");

/***/ }),

/***/ 5725:
/***/ ((module) => {

"use strict";
module.exports = require("antd");

/***/ }),

/***/ 2167:
/***/ ((module) => {

"use strict";
module.exports = require("axios");

/***/ }),

/***/ 2351:
/***/ ((module) => {

"use strict";
module.exports = require("axios/lib/adapters/http");

/***/ }),

/***/ 9003:
/***/ ((module) => {

"use strict";
module.exports = require("classnames");

/***/ }),

/***/ 562:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/denormalize-page-path.js");

/***/ }),

/***/ 4014:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/i18n/normalize-locale-path.js");

/***/ }),

/***/ 8020:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/mitt.js");

/***/ }),

/***/ 4964:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router-context.js");

/***/ }),

/***/ 9565:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/get-asset-path-from-route.js");

/***/ }),

/***/ 4365:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/get-middleware-regex.js");

/***/ }),

/***/ 1428:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-dynamic.js");

/***/ }),

/***/ 1292:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-relative-url.js");

/***/ }),

/***/ 979:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/querystring.js");

/***/ }),

/***/ 6052:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/resolve-rewrites.js");

/***/ }),

/***/ 4226:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/route-matcher.js");

/***/ }),

/***/ 5052:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/route-regex.js");

/***/ }),

/***/ 9232:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/utils.js");

/***/ }),

/***/ 580:
/***/ ((module) => {

"use strict";
module.exports = require("prop-types");

/***/ }),

/***/ 7104:
/***/ ((module) => {

"use strict";
module.exports = require("qs");

/***/ }),

/***/ 6689:
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ 997:
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [730,664,117,591], () => (__webpack_exec__(5133)));
module.exports = __webpack_exports__;

})();